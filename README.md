# java-chess

## DB 실행 방식

1. docker-compose.yml 실행 (포트 : 13306)
2. docker 폴더 경로에서 docker 켜기
   - _docker-compose -p chess up -d_
3. Workbench에서 init.sql 내용 실행

## 게임 저장 방식

- [x] 게임 저장
  - [x] start command를 입력하면 체스판이 시작됨
    - [x] 저장된 체스판이 없으면 체스판을 초기 위치로 설정
    - [x] 저장된 체스판이 있으면 load
  - [x] move command를 입력해 기물이 이동하면 해당 기물의 위치가 업데이트됨
  - [x] 아래 두 경우 게임이 종료되며 저장된 체스판이 초기화됨
    - [x] end command 입력
    - [x] king이 잡히며 게임 종료

---

## 용어 정리

- rank: 체스판에서의 가로줄(row)을 의미
- file: 체스판에서의 세로줄(column)을 의미

## 기능 요구 사항

### 입력

-[x] 사용자로부터 command 입력을 받는다
    - [x] start를 입력하면 게임을 시작한다
    - [x] status를 입력하면 각 진영 당 현재 남아있는 말의 점수를 계산한다
    - [x] end를 입력하면 게임이 종료된다
    - [x] move를 입력하면 말이 이동한다
        - [x] 입력은 move source위치 target위치 의 형태로 입력한다
- [x] 올바르지 않은 명령을 입력하면 다시 입력받는다.

### 게임 진행

- [x] 체스판을 초기화한다
    - [x] 말의 위치 값은 가로 위치는 왼쪽부터 a ~ h이다
    - [x] 말의 위치 값은 세로는 아래부터 위로 1 ~ 8이다
    - [x] 체스판에서 각 진영은 검은색(대문자)과 흰색(소문자) 편으로 구분한다

### 게임 규칙

- [x] 나이트를 제외한 다른 말들은 경로 상에 다른 말이 있다면 뛰어넘을 수 없다
- [x] 킹이 잡히는 경우 게임이 종료된다 </br>
- [x] King
    - [x] 상, 하, 좌, 우, 대각선으로 한 칸만 움직일 수 있다
- [x] Queen
    - [x] 상, 하, 좌, 우, 대각선으로 움직일 수 있다
- [x] Rook
    - [x] 상, 하, 좌, 우로 움직일 수 있다
- [x] Knight
    - [x] 상, 하 1칸 + 좌, 우 2칸 / 상, 하 2칸 + 좌, 우 1칸으로 움직일 수 있다
    - [x] 이동 경로에 다른 말이 있어도 뛰어넘어 움직일 수 있다
- [x] Bishop
    - [x] 대각선으로 움직일 수 있다
- [x] Pawn
    - [x] 첫 이동은 상대 방향으로 1칸, 혹은 2칸 움직일 수 있다
    - [x] 첫 이동이 아닌 경우 상대 방향으로 1칸만 움직일 수 있다
    - [x] 대각선에 상대방 말이 있는 경우 말을 잡고, 그 위치로 이동할 수 있다

### 점수 계산

- [x] King
  - [x] 0점
- [x] Queen
  - [x] 9점
- [x] Rook
  - [x] 5점
- [x] Bishop
  - [x] 3점
- [x] Knight
  - [x] 2점
- [x] Pawn
  - [x] 1점
  - [x] 같은 열에 같은 색 폰이 있는 경우 해당 열의 모든 폰은 0.5점으로 처리한다.

### 출력

- [x] 체스판을 출력한다
- [x] 게임이 종료되는 경우 승자를 출력한다
  - [x] BLACK / WHITE
  - [x] NONE (승부를 가리기 전 게임 종료)
